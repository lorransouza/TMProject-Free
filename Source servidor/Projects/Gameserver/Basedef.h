#include <Windows.h>
#include "cServer.h"

#ifndef __BASEDEF_H__
#define __BASEDEF_H__

#include <array>
#include <random>
#include <iterator>
constexpr int ScrollWaitTime = 20 * 60 * 60;

static unsigned int  g_HeightWidth  = 4096; // 4C7B98  - 4CBB98
static unsigned int  g_HeightHeight = 4096; // 4C7B9C  - 4CBB9C
static unsigned int  g_HeightPosX   = 0;    // 758FAA8 - 8BF17F8
static unsigned int  g_HeightPosY   = 0;	// 758FAAC - 8BF17FC

constexpr int KickOutPenalty = 3 * 3600 * 24;
constexpr std::array<std::array<WORD, 10>, 3> g_pCapesID =
{
	{
		{ {736,1766,1767,1768,543,545,734,3191,3194,3197} },
		{ {737,1769,1770,1771,544,546,735,3192,3195,3198} },
		{ {550,572,573,574,549,548,550,3193,3196,3199} }
	}
};

enum class TOD_SellItemResult 
{
	GoldLimit,
	BlockedItem,
	Success
};

static const UINT16 MaxMinCoordsQuest[5][4] =
{
	{ 2379, 2078, 2425, 2131 }, // Coveiro
	{ 2229, 1700, 2257, 1728 }, // Jardim
	{ 460, 3888, 497, 3916 }, // Kaizen
	{ 658, 3728, 703, 3762 }, // Hydra
	{ 1313, 4027, 1348, 4055 },  // Elfos
};

static DWORD dwValue[10] = {4, 54, 11, 12, 13, 14, 7, 8, 9, 10}; // 4C9A50
static DWORD dwValue_02[10][3][2] = {
	{ 
		{10, 30},
		{20, 45},
		{30, 60}
	}, 
	{ 
		{2, 5},
		{4, 8},
		{5, 10}
	}, 
	{ 
		{3, 10},
		{7, 20},
		{10, 30}
	}, 
	{ 
		{2, 8},
		{5, 14},
		{8, 20}
	}, 
	{ 
		{2, 8},
		{5, 14},
		{8, 20}
	}, 
	{ 
		{2, 8},
		{5, 14},
		{8, 20}
	}, 
	{ 
		{2, 6},
		{4, 12},
		{6, 16}
	}, 
	{ 
		{2, 6},
		{4, 12},
		{6, 16}
	}, 
	{ 
		{2, 6},
		{4, 12},
		{6, 16}
	}, 
	{ 
		{2, 6},
		{4, 12},
		{6, 16}
	}
};
 
#pragma region EXP

static unsigned long long exp_aux[255] = {
81711,
90657,
100277,
110595,
121635,
133647,
146671,
160747,
175915,
192215,
209687,
228371,
248307,
269535,
292095,
316151,
341751,
368943,
1007079,
2827230,
2971070,
3120635,
3276035,
3438521,
3608249,
3785375,
3970055,
4162445,
4362701,
4570979,
4787435,
5012225,
5245505,
5488163,
5740379,
6002333,
6274205,
6556175,
6848423,
7151129,
7464473,
7788635,
8123795,
8460174,
8797774,
9136597,
9476645,
9817920,
10160424,
10504159,
10849127,
11195330,
11542770,
11892311,
12243959,
12597720,
12953600,
13311605,
13671741,
14034014,
14398430,
14764995,
15133715,
15508850,
15890450,
16278565,
16673245,
17074540,
17482500,
17897175,
18318615,
18746870,
19181990,
19625811,
20078403,
20539836,
21010180,
21489505,
21977881,
22475378,
22982066,
23498015,
24023295,
24559110,
25105558,
25662737,
26230745,
26809680,
27399640,
28000723,
28613027,
29236650,
29871690,
30517485,
31174125,
31841700,
32520300,
33210015,
33910935,
34623150,
35346750,
36081825,
36828465,
37587867,
38360139,
39145389,
39943725,
40755255,
41580087,
42418329,
43270089,
44135475,
45014595,
45904870,
68747630,
69965210,
71200770,
72454410,
73726230,
75016330,
76324810,
77651770,
78985354,
80325578,
81672458,
83026010,
84386250,
85753194,
87126858,
88507258,
89894410,
91288330,
92693002,
94108458,
95534730,
96971850,
98419850,
99878762,
127757562,
129653690,
131583730,
133547970,
135546698,
137580202,
139648770,
141752690,
143928178,
146176386,
148498466,
150895570,
153368850,
155919458,
158548546,
161257266,
164046770,
166918210,
169956978,
173167682,
176554930,
180123330,
205345890,
209100050,
212902550,
216753470,
220652890,
224600890,
228597550,
232642950,
236737170,
240880290,
245072390,
249313550,
253603850,
257943370,
262332190,
266770390,
271258050,
275795250,
280382070,
285018590,
289904810,
295042730,
300434350,
306081670,
311986690,
318151410,
324577830,
331267950,
338223770,
345447290,
354039310,
364049830,
375528850,
388526370,
403092390,
419276910,
437129930,
456701450,
476272970,
495844490,
515416010,
534987530,
554559050,
574130570,
593702090,
613273610,
632845130,
652416650,
671988170,
691559690,
711131210,
730702730,
750274250,
769845770,
789417290,
808988810,
828560330,
848131850,
867703370,
887274890,
906846410,
926417930,
945989450,
965560970,
985132490,
1004704010,
1024275530,
1043847050,
1063418570,
1082990090,
1102561610,
1122133130,
1141704650,
1161276170,
1180847690,
1200419210,
1222705731,
1244995262,
1267288477,
1289622601,
1311966887,
1334333102,
1356724650,
2000000000,
2039000000,
2078000000,
2117000000,
2156000000,
2195000000,
2234000000,
2273000000,
2312000000,
2351000000,
2390000000,
2429000000
};


static long long g_pNextLevel[5][400] = { 
	{
	500,
	1124,
	1826,
	2610,
	3480,
	4440,
	5494,
	6646,
	7900,
	9260,
	10893,
	12817,
	15050,
	17610,
	20515,
	23783,
	27432,
	31480,
	35945,
	40845,
	46251,
	52187,
	58677,
	65745,
	73415,
	81711,
	90657,
	100277,
	110595,
	121635,
	133647,
	146671,
	160747,
	175915,
	192215,
	209687,
	228371,
	248307,
	269535,
	292095,
	316151,
	341751,
	368943,
	397775,
	428295,
	460551,
	494591,
	530463,
	568215,
	607895,
	649715,
	693731,
	739999,
	788575,
	839515,
	892875,
	948711,
	1007079,
	1068035,
	1131635,
	1198670,
	1269230,
	1343405,
	1421285,
	1502960,
	1588520,
	1678055,
	1771655,
	1869410,
	1971410,
	2078255,
	2190055,
	2306920,
	2428960,
	2556285,
	2689005,
	2827230,
	2971070,
	3120635,
	3276035,
	3438521,
	3608249,
	3785375,
	3970055,
	4162445,
	4362701,
	4570979,
	4787435,
	5012225,
	5245505,
	5488163,
	5740379,
	6002333,
	6274205,
	6556175,
	6848423,
	7151129,
	7464473,
	7788635,
	8123795,
	8460174,
	8797774,
	9136597,
	9476645,
	9817920,
	10160424,
	10504159,
	10849127,
	11195330,
	11542770,
	11892311,
	12243959,
	12597720,
	12953600,
	13311605,
	13671741,
	14034014,
	14398430,
	14764995,
	15133715,
	15508850,
	15890450,
	16278565,
	16673245,
	17074540,
	17482500,
	17897175,
	18318615,
	18746870,
	19181990,
	19625811,
	20078403,
	20539836,
	21010180,
	21489505,
	21977881,
	22475378,
	22982066,
	23498015,
	24023295,
	24559110,
	25105558,
	25662737,
	26230745,
	26809680,
	27399640,
	28000723,
	28613027,
	29236650,
	29871690,
	30517485,
	31174125,
	31841700,
	32520300,
	33210015,
	33910935,
	34623150,
	35346750,
	36081825,
	36828465,
	37587867,
	38360139,
	39145389,
	39943725,
	40755255,
	41580087,
	42418329,
	43270089,
	44135475,
	45014595,
	45904870,
	46806370,
	47719165,
	48643325,
	49578920,
	50526020,
	51484695,
	52455015,
	53437050,
	54430870,
	55439542,
	56463162,
	57501826,
	58555630,
	59624670,
	60709042,
	61808842,
	62924166,
	64055110,
	65201770,
	66366010,
	67547930,
	68747630,
	69965210,
	71200770,
	72454410,
	73726230,
	75016330,
	76324810,
	77651770,
	78985354,
	80325578,
	81672458,
	83026010,
	84386250,
	85753194,
	87126858,
	88507258,
	89894410,
	91288330,
	92693002,
	94108458,
	95534730,
	96971850,
	98419850,
	99878762,
	101348618,
	102829450,
	104321290,
	105824170,
	107352234,
	108905674,
	110484682,
	112089450,
	113720170,
	115377034,
	117060234,
	118769962,
	120506410,
	122269770,
	124065890,
	125895058,
	127757562,
	129653690,
	131583730,
	133547970,
	135546698,
	137580202,
	139648770,
	141752690,
	143928178,
	146176386,
	148498466,
	150895570,
	153368850,
	155919458,
	158548546,
	161257266,
	164046770,
	166918210,
	169956978,
	173167682,
	176554930,
	180123330,
	205345890,
	209100050,
	212902550,
	216753470,
	220652890,
	224600890,
	228597550,
	232642950,
	236737170,
	240880290,
	245072390,
	249313550,
	253603850,
	257943370,
	262332190,
	266770390,
	271258050,
	275795250,
	280382070,
	285018590,
	289904810,
	295042730,
	300434350,
	306081670,
	311986690,
	318151410,
	324577830,
	331267950,
	338223770,
	345447290,
	354039310,
	364049830,
	375528850,
	388526370,
	403092390,
	419276910,
	437129930,
	456701450,
	476272970,
	495844490,
	515416010,
	534987530,
	554559050,
	574130570,
	593702090,
	613273610,
	632845130,
	652416650,
	671988170,
	691559690,
	711131210,
	730702730,
	750274250,
	769845770,
	789417290,
	808988810,
	828560330,
	848131850,
	867703370,
	887274890,
	906846410,
	926417930,
	945989450,
	965560970,
	985132490,
	1004704010,
	1024275530,
	1043847050,
	1063418570,
	1082990090,
	1102561610,
	1122133130,
	1141704650,
	1161276170,
	1180847690,
	1200419210,
	1222705731,
	1244995262,
	1267288477,
	1289622601,
	1311966887,
	1334333102,
	1356724650,
	1379151914,
	1401651370,
	1424151231,
	1448674779,
	1473220997,
	1497782544,
	1522364697,
	1546957043,
	1571581919,
	1596243411,
	1620925875,
	1645647464,
	1670373305,
	1710373305,
	1770373305,
	1870373305,
	2000000000,
	2039000000,
	2078000000,
	2117000000,
	2156000000,
	2195000000,
	2234000000,
	2273000000,
	2312000000,
	2351000000,
	2390000000,
	2429000000,
	2468000000,
	2507000000,
	2546000000,
	2585000000,
	2624000000,
	2663000000,
	2702000000,
	2741000000,
	2780000000,
	2819000000,
	2858000000,
	2897000000,
	2936000000,
	3000000000,
	3043000000,
	3086000000,
	3129000000,
	3172000000,
	3215000000,
	3258000000,
	3301000000,
	3344000000,
	3387000000,
	3430000000,
	3473000000,
	3516000000,
	3559000000,
	3602000000,
	3645000000,
	3688000000,
	3731000000,
	3774000000,
	3817000000,
	4000000000
	},
	{
	500,
	1124,
	1826,
	2610,
	3480,
	4440,
	5494,
	6646,
	7900,
	9260,
	10893,
	12817,
	15050,
	17610,
	20515,
	23783,
	27432,
	31480,
	35945,
	40845,
	46251,
	52187,
	58677,
	65745,
	73415,
	81711,
	90657,
	100277,
	110595,
	121635,
	133647,
	146671,
	160747,
	175915,
	192215,
	209687,
	228371,
	248307,
	269535,
	292095,
	316151,
	341751,
	368943,
	397775,
	428295,
	460551,
	494591,
	530463,
	568215,
	607895,
	649715,
	693731,
	739999,
	788575,
	839515,
	892875,
	948711,
	1007079,
	1068035,
	1131635,
	1198670,
	1269230,
	1343405,
	1421285,
	1502960,
	1588520,
	1678055,
	1771655,
	1869410,
	1971410,
	2078255,
	2190055,
	2306920,
	2428960,
	2556285,
	2689005,
	2827230,
	2971070,
	3120635,
	3276035,
	3438521,
	3608249,
	3785375,
	3970055,
	4162445,
	4362701,
	4570979,
	4787435,
	5012225,
	5245505,
	5488163,
	5740379,
	6002333,
	6274205,
	6556175,
	6848423,
	7151129,
	7464473,
	7788635,
	8123795,
	8460174,
	8797774,
	9136597,
	9476645,
	9817920,
	10160424,
	10504159,
	10849127,
	11195330,
	11542770,
	11892311,
	12243959,
	12597720,
	12953600,
	13311605,
	13671741,
	14034014,
	14398430,
	14764995,
	15133715,
	15508850,
	15890450,
	16278565,
	16673245,
	17074540,
	17482500,
	17897175,
	18318615,
	18746870,
	19181990,
	19625811,
	20078403,
	20539836,
	21010180,
	21489505,
	21977881,
	22475378,
	22982066,
	23498015,
	24023295,
	24559110,
	25105558,
	25662737,
	26230745,
	26809680,
	27399640,
	28000723,
	28613027,
	29236650,
	29871690,
	30517485,
	31174125,
	31841700,
	32520300,
	33210015,
	33910935,
	34623150,
	35346750,
	36081825,
	36828465,
	37587867,
	38360139,
	39145389,
	39943725,
	40755255,
	41580087,
	42418329,
	43270089,
	44135475,
	45014595,
	45904870,
	46806370,
	47719165,
	48643325,
	49578920,
	50526020,
	51484695,
	52455015,
	53437050,
	54430870,
	55439542,
	56463162,
	57501826,
	58555630,
	59624670,
	60709042,
	61808842,
	62924166,
	64055110,
	65201770,
	66366010,
	67547930,
	68747630,
	69965210,
	71200770,
	72454410,
	73726230,
	75016330,
	76324810,
	77651770,
	78985354,
	80325578,
	81672458,
	83026010,
	84386250,
	85753194,
	87126858,
	88507258,
	89894410,
	91288330,
	92693002,
	94108458,
	95534730,
	96971850,
	98419850,
	99878762,
	101348618,
	102829450,
	104321290,
	105824170,
	107352234,
	108905674,
	110484682,
	112089450,
	113720170,
	115377034,
	117060234,
	118769962,
	120506410,
	122269770,
	124065890,
	125895058,
	127757562,
	129653690,
	131583730,
	133547970,
	135546698,
	137580202,
	139648770,
	141752690,
	143928178,
	146176386,
	148498466,
	150895570,
	153368850,
	155919458,
	158548546,
	161257266,
	164046770,
	166918210,
	169956978,
	173167682,
	176554930,
	180123330,
	205345890,
	209100050,
	212902550,
	216753470,
	220652890,
	224600890,
	228597550,
	232642950,
	236737170,
	240880290,
	245072390,
	249313550,
	253603850,
	257943370,
	262332190,
	266770390,
	271258050,
	275795250,
	280382070,
	285018590,
	289904810,
	295042730,
	300434350,
	306081670,
	311986690,
	318151410,
	324577830,
	331267950,
	338223770,
	345447290,
	354039310,
	364049830,
	375528850,
	388526370,
	403092390,
	419276910,
	437129930,
	456701450,
	476272970,
	495844490,
	515416010,
	534987530,
	554559050,
	574130570,
	593702090,
	613273610,
	632845130,
	652416650,
	671988170,
	691559690,
	711131210,
	730702730,
	750274250,
	769845770,
	789417290,
	808988810,
	828560330,
	848131850,
	867703370,
	887274890,
	906846410,
	926417930,
	945989450,
	965560970,
	985132490,
	1004704010,
	1024275530,
	1043847050,
	1063418570,
	1082990090,
	1102561610,
	1122133130,
	1141704650,
	1161276170,
	1180847690,
	1200419210,
	1222705731,
	1244995262,
	1267288477,
	1289622601,
	1311966887,
	1334333102,
	1356724650,
	1379151914,
	1401651370,
	1424151231,
	1448674779,
	1473220997,
	1497782544,
	1522364697,
	1546957043,
	1571581919,
	1596243411,
	1620925875,
	1645647464,
	1670373305,
	1710373305,
	1770373305,
	1870373305,
	2000000000,
	2039000000,
	2078000000,
	2117000000,
	2156000000,
	2195000000,
	2234000000,
	2273000000,
	2312000000,
	2351000000,
	2390000000,
	2429000000,
	2468000000,
	2507000000,
	2546000000,
	2585000000,
	2624000000,
	2663000000,
	2702000000,
	2741000000,
	2780000000,
	2819000000,
	2858000000,
	2897000000,
	2936000000,
	3000000000,
	3043000000,
	3086000000,
	3129000000,
	3172000000,
	3215000000,
	3258000000,
	3301000000,
	3344000000,
	3387000000,
	3430000000,
	3473000000,
	3516000000,
	3559000000,
	3602000000,
	3645000000,
	3688000000,
	3731000000,
	3774000000,
	3817000000,
	4000000000
	},
	{
	500,
	1124,
	1826,
	2610,
	3480,
	4440,
	5494,
	6646,
	7900,
	9260,
	10893,
	12817,
	15050,
	17610,
	20515,
	23783,
	27432,
	31480,
	35945,
	40845,
	46251,
	52187,
	58677,
	65745,
	73415,
	81711,
	90657,
	100277,
	110595,
	121635,
	133647,
	146671,
	160747,
	175915,
	192215,
	209687,
	228371,
	248307,
	269535,
	292095,
	316151,
	341751,
	368943,
	397775,
	428295,
	460551,
	494591,
	530463,
	568215,
	607895,
	649715,
	693731,
	739999,
	788575,
	839515,
	892875,
	948711,
	1007079,
	1068035,
	1131635,
	1198670,
	1269230,
	1343405,
	1421285,
	1502960,
	1588520,
	1678055,
	1771655,
	1869410,
	1971410,
	2078255,
	2190055,
	2306920,
	2428960,
	2556285,
	2689005,
	2827230,
	2971070,
	3120635,
	3276035,
	3438521,
	3608249,
	3785375,
	3970055,
	4162445,
	4362701,
	4570979,
	4787435,
	5012225,
	5245505,
	5488163,
	5740379,
	6002333,
	6274205,
	6556175,
	6848423,
	7151129,
	7464473,
	7788635,
	8123795,
	8460174,
	8797774,
	9136597,
	9476645,
	9817920,
	10160424,
	10504159,
	10849127,
	11195330,
	11542770,
	11892311,
	12243959,
	12597720,
	12953600,
	13311605,
	13671741,
	14034014,
	14398430,
	14764995,
	15133715,
	15508850,
	15890450,
	16278565,
	16673245,
	17074540,
	17482500,
	17897175,
	18318615,
	18746870,
	19181990,
	19625811,
	20078403,
	20539836,
	21010180,
	21489505,
	21977881,
	22475378,
	22982066,
	23498015,
	24023295,
	24559110,
	25105558,
	25662737,
	26230745,
	26809680,
	27399640,
	28000723,
	28613027,
	29236650,
	29871690,
	30517485,
	31174125,
	31841700,
	32520300,
	33210015,
	33910935,
	34623150,
	35346750,
	36081825,
	36828465,
	37587867,
	38360139,
	39145389,
	39943725,
	40755255,
	41580087,
	42418329,
	43270089,
	44135475,
	45014595,
	45904870,
	46806370,
	47719165,
	48643325,
	49578920,
	50526020,
	51484695,
	52455015,
	53437050,
	54430870,
	55439542,
	56463162,
	57501826,
	58555630,
	59624670,
	60709042,
	61808842,
	62924166,
	64055110,
	65201770,
	66366010,
	67547930,
	68747630,
	69965210,
	71200770,
	72454410,
	73726230,
	75016330,
	76324810,
	77651770,
	78985354,
	80325578,
	81672458,
	83026010,
	84386250,
	85753194,
	87126858,
	88507258,
	89894410,
	91288330,
	92693002,
	94108458,
	95534730,
	96971850,
	98419850,
	99878762,
	101348618,
	102829450,
	104321290,
	105824170,
	107352234,
	108905674,
	110484682,
	112089450,
	113720170,
	115377034,
	117060234,
	118769962,
	120506410,
	122269770,
	124065890,
	125895058,
	127757562,
	129653690,
	131583730,
	133547970,
	135546698,
	137580202,
	139648770,
	141752690,
	143928178,
	146176386,
	148498466,
	150895570,
	153368850,
	155919458,
	158548546,
	161257266,
	164046770,
	166918210,
	169956978,
	173167682,
	176554930,
	180123330,
	205345890,
	209100050,
	212902550,
	216753470,
	220652890,
	224600890,
	228597550,
	232642950,
	236737170,
	240880290,
	245072390,
	249313550,
	253603850,
	257943370,
	262332190,
	266770390,
	271258050,
	275795250,
	280382070,
	285018590,
	289904810,
	295042730,
	300434350,
	306081670,
	311986690,
	318151410,
	324577830,
	331267950,
	338223770,
	345447290,
	354039310,
	364049830,
	375528850,
	388526370,
	403092390,
	419276910,
	437129930,
	456701450,
	476272970,
	495844490,
	515416010,
	534987530,
	554559050,
	574130570,
	593702090,
	613273610,
	632845130,
	652416650,
	671988170,
	691559690,
	711131210,
	730702730,
	750274250,
	769845770,
	789417290,
	808988810,
	828560330,
	848131850,
	867703370,
	887274890,
	906846410,
	926417930,
	945989450,
	965560970,
	985132490,
	1004704010,
	1024275530,
	1043847050,
	1063418570,
	1082990090,
	1102561610,
	1122133130,
	1141704650,
	1161276170,
	1180847690,
	1200419210,
	1222705731,
	1244995262,
	1267288477,
	1289622601,
	1311966887,
	1334333102,
	1356724650,
	1379151914,
	1401651370,
	1424151231,
	1448674779,
	1473220997,
	1497782544,
	1522364697,
	1546957043,
	1571581919,
	1596243411,
	1620925875,
	1645647464,
	1670373305,
	1710373305,
	1770373305,
	1870373305,
	2000000000,
	2039000000,
	2078000000,
	2117000000,
	2156000000,
	2195000000,
	2234000000,
	2273000000,
	2312000000,
	2351000000,
	2390000000,
	2429000000,
	2468000000,
	2507000000,
	2546000000,
	2585000000,
	2624000000,
	2663000000,
	2702000000,
	2741000000,
	2780000000,
	2819000000,
	2858000000,
	2897000000,
	2936000000,
	3000000000,
	3043000000,
	3086000000,
	3129000000,
	3172000000,
	3215000000,
	3258000000,
	3301000000,
	3344000000,
	3387000000,
	3430000000,
	3473000000,
	3516000000,
	3559000000,
	3602000000,
	3645000000,
	3688000000,
	3731000000,
	3774000000,
	3817000000,
	4000000000
	},
	{ 
		20000000, 40000000, 60000000, 80000000, 100000000, 120000000, 140000000, 160000000, 180000000,
		200000000, 220000000, 240000000, 260000000, 280000000, 300000000, 320000000, 340000000, 360000000,
		380000000, 400000000, 420000000, 440000000, 460000000, 480000000, 500000000, 520000000, 540000000,
		560000000, 580000000, 600000000, 620000000, 640000000, 660000000, 680000000, 700000000, 720000000,
		740000000, 760000000, 780000000, 800000000, 820000000, 840000000, 860000000, 880000000, 900000000,
		920000000, 940000000, 960000000, 980000000, 1000000000, 1020000000, 1040000000, 1060000000, 1080000000,
		1100000000, 1120000000, 1140000000, 1160000000, 1180000000, 1200000000, 1220000000, 1240000000, 1260000000,
		1280000000, 1300000000, 1320000000, 1340000000, 1360000000, 1380000000, 1400000000, 1420000000, 1440000000,
		1460000000, 1480000000, 1500000000, 1520000000, 1540000000, 1560000000, 1580000000, 1600000000, 1620000000,
		1640000000, 1660000000, 1680000000, 1700000000, 1720000000, 1740000000, 1760000000, 1780000000, 1800000000,
		1820000000, 1840000000, 1860000000, 1880000000, 1900000000, 1920000000, 1940000000, 1960000000, 1980000000,
		2000000000, 2020000000, 2040000000, 2060000000, 2080000000, 2100000000, 2120000000, 2140000000, 2160000000,
		2180000000, 2200000000, 2220000000, 2240000000, 2260000000, 2280000000, 2300000000, 2320000000, 2340000000,
		2360000000, 2380000000, 2400000000, 2420000000, 2440000000, 2460000000, 2480000000, 2500000000, 2520000000,
		2540000000, 2560000000, 2580000000, 2600000000, 2620000000, 2640000000, 2660000000, 2680000000, 2700000000,
		2720000000, 2740000000, 2760000000, 2780000000, 2800000000, 2820000000, 2840000000, 2860000000, 2880000000,
		2900000000, 2920000000, 2940000000, 2960000000, 2980000000, 3000000000, 3020000000, 3040000000, 3060000000,
		3080000000, 3100000000, 3120000000, 3140000000, 3160000000, 3180000000, 3200000000, 3220000000, 3240000000,
		3260000000, 3280000000, 3300000000, 3320000000, 3340000000, 3360000000, 3380000000, 3400000000, 3420000000,
		3440000000, 3460000000, 3480000000, 3500000000, 3520000000, 3540000000, 3560000000, 3580000000, 3600000000,
		3620000000, 3640000000, 3660000000, 3680000000, 3700000000, 3720000000, 3740000000, 3760000000, 3780000000,
		3800000000, 3820000000, 3840000000, 3860000000, 3880000000, 3900000000, 3920000000, 3940000000, 3960000000,
		4000000000, 4020000000, 4040000000, 4060000000, 4080000000, 4100000000, 4120000000, 4140000000, 4160000000,
		4180000000, 4200000000, 4220000000, 4240000000, 4260000000, 4280000000, 4300000000, 4320000000, 4340000000,
		4360000000, 4380000000, 4400000000, 4420000000, 4440000000, 4460000000, 4480000000, 4500000000, 4520000000,
		4540000000, 4560000000, 4580000000, 4600000000, 4620000000, 4640000000, 4660000000, 4680000000, 4700000000,
		4720000000, 4740000000, 4760000000, 4780000000, 4800000000, 4820000000, 4840000000, 4860000000, 4880000000,
		4900000000, 4920000000, 4940000000, 4960000000, 4980000000, 5000000000, 5020000000, 5040000000, 5060000000,
		5080000000, 5100000000, 5120000000, 5140000000, 5160000000, 5180000000, 5200000000, 5220000000, 5240000000,
		5260000000, 5280000000, 5300000000, 5320000000, 5340000000, 5360000000, 5380000000, 5400000000, 5420000000,
		5440000000, 5460000000, 5480000000, 5500000000, 5520000000, 5540000000, 5560000000, 5580000000, 5600000000,
		5620000000, 5640000000, 5660000000, 5680000000, 5700000000, 5720000000, 5740000000, 5760000000, 5780000000,
		5800000000, 5820000000, 5840000000, 5860000000, 5880000000, 5900000000, 5920000000, 5940000000, 5960000000,
		5980000000, 6000000000, 6020000000, 6040000000, 6060000000, 6080000000, 6100000000, 6120000000, 6140000000,
		6160000000, 6180000000, 6200000000, 6220000000, 6240000000, 6260000000, 6280000000, 6300000000, 6320000000,
		6340000000, 6360000000, 6380000000, 6400000000, 6420000000, 6440000000, 6460000000, 6480000000, 6500000000,
		6520000000, 6540000000, 6560000000, 6580000000, 6600000000, 6620000000, 6640000000, 6660000000, 6680000000,
		6700000000, 6720000000, 6740000000, 6760000000, 6780000000, 6800000000, 6820000000, 6840000000, 6860000000,
		6880000000, 6900000000, 6920000000, 6940000000, 6960000000, 6980000000, 7000000000, 7020000000, 7040000000,
		7060000000, 7080000000, 7100000000, 7120000000, 7140000000, 7160000000, 7180000000, 7200000000, 7220000000,
		7240000000, 7260000000, 7280000000, 7300000000, 7320000000, 7340000000, 7360000000, 7380000000, 7400000000,
		7420000000, 7440000000, 7460000000, 7480000000, 7500000000, 7520000000, 7540000000, 7560000000, 7580000000,
		7600000000, 7620000000, 7640000000, 7660000000, 7680000000, 7700000000, 7720000000, 7740000000, 7760000000,
		7780000000, 7800000000, 7820000000, 7840000000, 7860000000, 7880000000, 7900000000, 7920000000, 7940000000,
		7960000000, 7980000000, 8000000000, 8200000000
	},
	{ 
		20000000, 40000000, 60000000, 80000000, 100000000, 120000000, 140000000, 160000000, 180000000,
		200000000, 220000000, 240000000, 260000000, 280000000, 300000000, 320000000, 340000000, 360000000,
		380000000, 400000000, 420000000, 440000000, 460000000, 480000000, 500000000, 520000000, 540000000,
		560000000, 580000000, 600000000, 620000000, 640000000, 660000000, 680000000, 700000000, 720000000,
		740000000, 760000000, 780000000, 800000000, 820000000, 840000000, 860000000, 880000000, 900000000,
		920000000, 940000000, 960000000, 980000000, 1000000000, 1020000000, 1040000000, 1060000000, 1080000000,
		1100000000, 1120000000, 1140000000, 1160000000, 1180000000, 1200000000, 1220000000, 1240000000, 1260000000,
		1280000000, 1300000000, 1320000000, 1340000000, 1360000000, 1380000000, 1400000000, 1420000000, 1440000000,
		1460000000, 1480000000, 1500000000, 1520000000, 1540000000, 1560000000, 1580000000, 1600000000, 1620000000,
		1640000000, 1660000000, 1680000000, 1700000000, 1720000000, 1740000000, 1760000000, 1780000000, 1800000000,
		1820000000, 1840000000, 1860000000, 1880000000, 1900000000, 1920000000, 1940000000, 1960000000, 1980000000,
		2000000000, 2020000000, 2040000000, 2060000000, 2080000000, 2100000000, 2120000000, 2140000000, 2160000000,
		2180000000, 2200000000, 2220000000, 2240000000, 2260000000, 2280000000, 2300000000, 2320000000, 2340000000,
		2360000000, 2380000000, 2400000000, 2420000000, 2440000000, 2460000000, 2480000000, 2500000000, 2520000000,
		2540000000, 2560000000, 2580000000, 2600000000, 2620000000, 2640000000, 2660000000, 2680000000, 2700000000,
		2720000000, 2740000000, 2760000000, 2780000000, 2800000000, 2820000000, 2840000000, 2860000000, 2880000000,
		2900000000, 2920000000, 2940000000, 2960000000, 2980000000, 3000000000, 3020000000, 3040000000, 3060000000,
		3080000000, 3100000000, 3120000000, 3140000000, 3160000000, 3180000000, 3200000000, 3220000000, 3240000000,
		3260000000, 3280000000, 3300000000, 3320000000, 3340000000, 3360000000, 3380000000, 3400000000, 3420000000,
		3440000000, 3460000000, 3480000000, 3500000000, 3520000000, 3540000000, 3560000000, 3580000000, 3600000000,
		3620000000, 3640000000, 3660000000, 3680000000, 3700000000, 3720000000, 3740000000, 3760000000, 3780000000,
		3800000000, 3820000000, 3840000000, 3860000000, 3880000000, 3900000000, 3920000000, 3940000000, 3960000000,
		4000000000, 4020000000, 4040000000, 4060000000, 4080000000, 4100000000, 4120000000, 4140000000, 4160000000,
		4180000000, 4200000000, 4220000000, 4240000000, 4260000000, 4280000000, 4300000000, 4320000000, 4340000000,
		4360000000, 4380000000, 4400000000, 4420000000, 4440000000, 4460000000, 4480000000, 4500000000, 4520000000,
		4540000000, 4560000000, 4580000000, 4600000000, 4620000000, 4640000000, 4660000000, 4680000000, 4700000000,
		4720000000, 4740000000, 4760000000, 4780000000, 4800000000, 4820000000, 4840000000, 4860000000, 4880000000,
		4900000000, 4920000000, 4940000000, 4960000000, 4980000000, 5000000000, 5020000000, 5040000000, 5060000000,
		5080000000, 5100000000, 5120000000, 5140000000, 5160000000, 5180000000, 5200000000, 5220000000, 5240000000,
		5260000000, 5280000000, 5300000000, 5320000000, 5340000000, 5360000000, 5380000000, 5400000000, 5420000000,
		5440000000, 5460000000, 5480000000, 5500000000, 5520000000, 5540000000, 5560000000, 5580000000, 5600000000,
		5620000000, 5640000000, 5660000000, 5680000000, 5700000000, 5720000000, 5740000000, 5760000000, 5780000000,
		5800000000, 5820000000, 5840000000, 5860000000, 5880000000, 5900000000, 5920000000, 5940000000, 5960000000,
		5980000000, 6000000000, 6020000000, 6040000000, 6060000000, 6080000000, 6100000000, 6120000000, 6140000000,
		6160000000, 6180000000, 6200000000, 6220000000, 6240000000, 6260000000, 6280000000, 6300000000, 6320000000,
		6340000000, 6360000000, 6380000000, 6400000000, 6420000000, 6440000000, 6460000000, 6480000000, 6500000000,
		6520000000, 6540000000, 6560000000, 6580000000, 6600000000, 6620000000, 6640000000, 6660000000, 6680000000,
		6700000000, 6720000000, 6740000000, 6760000000, 6780000000, 6800000000, 6820000000, 6840000000, 6860000000,
		6880000000, 6900000000, 6920000000, 6940000000, 6960000000, 6980000000, 7000000000, 7020000000, 7040000000,
		7060000000, 7080000000, 7100000000, 7120000000, 7140000000, 7160000000, 7180000000, 7200000000, 7220000000,
		7240000000, 7260000000, 7280000000, 7300000000, 7320000000, 7340000000, 7360000000, 7380000000, 7400000000,
		7420000000, 7440000000, 7460000000, 7480000000, 7500000000, 7520000000, 7540000000, 7560000000, 7580000000,
		7600000000, 7620000000, 7640000000, 7660000000, 7680000000, 7700000000, 7720000000, 7740000000, 7760000000,
		7780000000, 7800000000, 7820000000, 7840000000, 7860000000, 7880000000, 7900000000, 7920000000, 7940000000,
		7960000000, 7980000000, 8000000000, 8200000000
	}
};
#pragma endregion

#pragma region COORDS VALUES
static int HuntingScrolls[6][10][2] = 
{ 
	//Armia
	{//OK
		{2370, 2106},
		{2508, 2101},
		{2526, 2009},
		{2529, 1882},
		{2126, 1600},
		{2005, 1617},
		{2241, 1474},
		{1858, 1721},
		{2250, 1316},
		{1989, 1755}
	},
	//Dungeon
	{// OK
		{290, 3799},
		{724, 3781},
		{481, 4062},
		{876, 4058},
		{855, 3922},
		{808, 3876},
		{959, 3813},
		{926, 3750},
		{1096, 3730},
		{1132, 3800}
	},
	//SubMundo
	{
		{1242 , 4035},
		{1264 , 4017},
		{1333 , 3994},
		{1358 , 4041},
		{1462 , 4033},
		{1326 , 3788},
		{1493 , 3777},
		{1437 , 3741},
		{1389 , 3740},
		{1422 , 3810}
	},
	//Kult
	{//OK
		{1376 , 1722},
		{1426 , 1686},
		{1381 , 1861},
		{1326 , 1896},
		{1510 , 1723},
		{1543 , 1726},
		{1580 , 1758},
		{1182 , 1714},
		{1634 , 1727},
		{1237 , 1764}
	},
	//Kefra
	{// ok
		{2367 , 4024},
		{2236 , 4044},
		{2236 , 3993},
		{2209 , 3989},
		{2453 , 4067},
		{2485 , 4043},
		{2534 , 3897},
		{2489 , 3919},
		{2269 , 3910},
		{2202 , 3866}
	},
	//Nipple
	{
		{3664 , 3024},
		{3582 , 3007},
		{3514 , 3008},
		{3819 , 2977},
		{3517 , 2889},
		{3745 , 2977},
		{3639 , 2877},
		{3650 , 2727},
		{3660 , 2773},
		{3746 , 2879}
	}
};
#pragma endregion

#pragma region DIAS
#define DOMINGO		0
#define SEGUNDA		1
#define TERCA		2
#define QUARTA		3
#define QUINTA		4
#define SEXTA		5
#define SABADO		6
#pragma endregion

#pragma region MAX VALUES
// Max language.txt
#define MAX_STRING 512
#define MAX_MESSAGE  128

#define MAX_CITIZENXP 120

#define MAX_BLOCKITEM 250

#define MAX_CHANNEL 10

#define MAX_DAILYQUEST 100

#define MAX_STORE 5
#define MAX_DONATEITEM 27

#define MAX_ROOM 10
#define MAX_PARTYPISTA 3
#define MAX_AVAIBLE_ROOM 7

#define MAX_EFFECT_INDEX        120
#define MAX_EFFECT_NAME         32
#define MAX_EFFECT              12
#define MAX_MESH_BUFFER         16
#define MAX_SCORE_BUFFER        32

#define MAX_CRITICAL_DAMAGE 32000
#define MAX_NORMAL_DAMAGE 120000

#define MAX_PACITEM 50

#define MAX_ITEMLIST 6500

#define MAX_TELEPORT 64

#define MAX_EQUIP 18
#define FACE 0

#define MAX_INVEN 64
#define MAX_CARGO 128

#define MAX_POINTS 64000
#define MAX_STATS 100000
#define MAX_HPMP 200000
#define MAX_RESIST 100
#define MAX_MAGICINCREMENT 500

constexpr int MAX_LEVEL_CELESTIAL = 209;
constexpr int MAX_LEVEL = 399;

#define MAX_GUILD 65535
#pragma endregion

#pragma region CLASSES
#define MORTAL 1
#define ARCH 2
#define CELESTIAL 3
#define SUBCELESTIAL 4
#pragma endregion

#pragma region LOGS TYPES
#define LOG_ERROR -1
#define LOG_INGAME 1
#define LOG_PAINEL 2
#define LOG_HACK 3
#define LOG_GUILD 4
#define LOG_PISTA 5
#define LOG_ADMIN 6
#define LOG_AUTOVENDA 7
#define LOG_COMP 8
#pragma endregion

#pragma region CRACK TYPES
#define CRACK_MOBSTORE_SELF  3
#define CRACK_SPEED_HACK1  5
#define CRACK_SPEED_HACK2  6
#define CRACK_SPEED_HACK3  7
#define CRACK_SPEED_HACK4  8
#define CRACK_NOUSER_MONEY  12
#define CRACK_NOUSER_TRADE  13
#define CRACK_NOUSER_MONSTORE 14
#define CRACK_NOUSER_MOVE  15
#define CRACK_NOUSER_DROP  16
#define CRACK_NOUSER_BUY  17
#define CRACK_NOUSER_SELL  18
#define CRACK_USER_STATUS  19
#define CRACK_USER_PKTHACK  20
#define CRACK_IGNORECOMBATPHASE 21
#define CRACK_ATTACK_SPEED_HACK 22
#define CRACK_SKILLCASTSPEED_HACK 23
#define CRACK_QUIZ_NOT_RESPONSE 24
#define CRACK_QUIZ_NOT_CORRECT 25
#define CRACK_TRADE_NOTEMPTY 30
#pragma endregion

#pragma region OTHER
#define TIMER_PISTA 3

#define CAPE_BLUE 7
#define CAPE_RED 8
#define CAPE_WHITE 0


#define SERVER_SIDE 30000
#pragma endregion

#pragma region ID MOBS NPCGENER
#define PERGA_N 22
#define PERGA_M 10
#define PERGA_A 34
#define LICH_ID 175
#define TORRE_ID 176
#define VALKY_ID 179
#define KALINTZ_MAGE 180
#define SULRANG 189
#define HELL 191
#define HELL_BOSS 238
#define BARLOG 243
#define COELHO_ID 244
#define TORRE_RVR_BLUE 288
#define TORRE_RVR_RED 289
#define TORRE_ERION 290
#define KEFRA 155
#define GUARDAS_KEFRA 156
#define LICH_AMALD 315
#define RVRSTORE_BLUE 384
#define RVRSTORE_RED 385
#define TORRE_NOATUN 149
#define COLOSSEUM_ID 84
#define COLOSSEUM_TYR 124
#define BALMUS_ID 3185
#define KARA_ID 1173
#define COMB_JUDITH_ID 3831
#define EMPIS_ID 3196
#define BRUCE_ID 3205

#define ZUMBI_BOSS 319
#define ZUMBI_MOBS 320 // Até 369 ^^ 

constexpr int GUARDIAN_TOWER_BLUE = 382;
constexpr int GUARDIAN_TOWER_RED = 383;

#define SOMBRA_NEGRA 245
#define LCIHDEAREIA 387
#pragma endregion

#pragma region CONTRIBUITION
#define CONTRIBUITION_ERION_DAMAGE			0
#define CONTRIBUITION_ERION_DAMAGE_TOTAL	1

#define CONTRIBUITION_ZUMBI					1
#define CONTRIBUITION_ZUMBI_TOTAL			3

#define CONTRIBUITION_DARKSHADOW			2
#define CONTRIBUITION_DARKSHADOW_TOTAL		2

#define CONTRIBUITION_KEFRA					3
#pragma endregion

#define MAX_BOSS		10

#pragma region CITY IDS
#define ARMIA                   1
#define ERION                   2
#define AZRAN                   3
#define NOATUN                  4
#define GELO                    5
#pragma endregion

#pragma region EVENT DEFINES
#define CONTRATO_DA_ALCATEIA_ID 6666
#define DENTE_DE_LOBO_I_ID 4510
#define DENTE_DE_LOBO_I_RATE 50
#define DENTE_DE_LOBO_II_ID 4511
#define DENTE_DE_LOBO_II_RATE 10
#define MEDALHA_DA_ALCATEIA_ID 4514
#define MEDALHA_DA_ALCATEIA_RATE 50
#define OVO_DE_LOBO_SAGRADO_ID 4517
#define WOLF_PET_ID_BASE 3995
#define LOBO_TIME_EQUIPED 60 * 20
#define LOBO_REWARD_TIME 10
#define BORN_ALCATEIA_TIME 60 * 3
#define MAX_ALCATEIA_BORN_POS 30
#define ALCATEIA_GENER_ID 312
#define ALCATEIA_GENER_ID_MAX 313
#define LOBO_SOLITARIO_GENER_ID 314
#define TOTAL_ALCATEIA 10

#define POCAO_ALPHA_ID 4515
#define POCAO_ALPHA_BUFF_ID 52
#define POCAO_ALPHA_DECRESS_TIME 60 

#define REBORN_ALCATEIA_RAND 60
#pragma endregion

#pragma region CALABOUÇO ZUMBI
#define NUCLEO_LAC_ITEMID 4521
#define TICKET_ITEMID 4520
#pragma endregion

#pragma region MessageString Index
#define _NN_Get_Skill_Point 1
#define _NN_Weapon_Enchanted 2
#define _NN_Get_Watching_Town_Mission 3
#define _NN_Watching_Town_Success 4 
#define _NN_Watching_Town_Awarded 5
#define _NN_Qest06Complete 6
#define  _NN_Bad_Network_Packets 23
#define _NN_Only_Guild_Master_can 24
#define _NN_Champions_Cant_Challange 25
#define  _NN_Challanged 30
#define _NN_Version_Not_Match_Rerun 36
#define _NN_3_Tims_Wrong_Pass 37
#define _NN_Cant_Deposit_That_Much 44
#define _NN_Cant_Withdraw_That_Much 45
#define _NN_Newbie_zone 46
#define _NN_Only_Guild_Members 47
#define _NN_Cant_Summon_Dead_Person 48
#define _NN_Summon_Not_Allowed_Here 49
#define _NN_Too_High_Level_To_Summon 50
#define _SN_Summoned_By_S 52
#define _SS_Champion_And_Challanger 57
#define _SN_No_Challanger 58
#define _SN_Winner_Is 59
#define _NN_Gather_7_Clistals 62
#define _NN_Equip_Weapon_To_Enchant 63
#define _NN_Only_Nomal_Weapons 64
#define _SN_Now_I_Will_Enchant_Your 65
#define _SN_All_Villagers_Thanks_Your 66
#define _NN_Give_You_Some_Reward 67
#define _NN_Guard_This_Village 68
#define _NN_Monster_Attaking_Us_Help 69
#define _NN_Thanks_for_Helping_us 70
#define _NN_Youve_Done_It_Already 71
#define _NN_Cant_Drop_Here 72
#define _NN_Guild_Medal_Cant_Be_Droped 73
#define _NN_Only_To_Equips 74
#define _NN_Cant_Refine_More 75
#define _NN_Fail_To_Refine 76
#define _NN_No_Return_Point 78
#define _NN_No_Key 79
#define _NN_Wrong_Trade_Packet1 80
#define _NN_Only_With_Guild_Master 81
#define _NN_Already_Trading 82
#define _NN_Havent_Money_So_Much 83
#define _NN_Opponent_Havent_Money 84
#define _NN_Each_Of_You_Havent_Space 85
#define _NN_You_Have_No_Space_To_Trade 86
#define _NN_Opponent_Have_No_Space_To 87
#define _NN_Not_Connected 91
#define _NN_Cant_Use_That_Here 96
#define _NN_Only_Guild_Member_Can 104
#define _NN_Maximum_Point_Now 105
#define _NN_Maximum_Point_200_Now 106
#define _NN_Cant_Learn_Other_Class_Skill 107
#define _NN_Not_Enough_Skill_Point	108
#define _NN_Already_Learned_It 109
#define _NN_Need_More_Level_To_Learn 110
#define _NN_Need_More_Mastery_To_Learn	111
#define _NN_No_Account_With_That_Name 131
#define _NN_Blocked_Account 132
#define _NN_Wrong_Password 133
#define _NN_Your_Account_From_Others 134
#define _NN_Guild_Battle_Notice1 135
#define _NN_Guild_Battle_Notice2 136
#define _NN_Guild_Battle_Notice3 137
#define _NN_Guild_Battle_Notice4 138
#define _NN_Guild_Battle_Notice5 139
#define _NN_Guild_Battle_Notice6 140
#define _NN_Only_Guild_Master_Can 144
#define _NN_CarryFull 149
#define _NN_Need_1000000_Gold 152
#define _NN_Hurry_Helping_them 153
#define _NN_Party_Only 154
#define _NN_Need_Pure_Divine 155
#define _NN_Initialize_Skill 156
#define _NN_Need_10_Particle 157
#define _NN_Processing_Complete 158
#define _NN_Disabled_Account 161
#define _NN_No_Guild_Members 162
#define _SN_Zakum_Killed 163
#define _NN_Zakum_Initialize 164
#define _NN_Need_5000000_Gold 166
#define _NN_Guild_Tax_0_to_30 168
#define _DD_Set_Guild_Tax 169
#define _NN_CantWhenAutoTrade 170
#define _NN_OnlyVillage 172
#define _NN_Only_Named_Guild 173
#define _NN_Only_Once_Per_Day 174
#define _SSD_S_get_S_D 175
#define _NN_Refine_Success 176
#define _DN_Need_D_Sapphire 177
#define _NN_My_King_Bless1 178
#define _NN_My_King_Bless2 179
#define _NN_Need_Level 180
#define _DN_get_D_exp 183
#define _NN_Set_Warp 186
#define _DS_S_Challanged 187
#define _NN_Need_Master 188
#define _DN_Need_D_Sapphire2 189
#define _NN_Need_Guild_Medal 190
#define _NN_Need_1000000_For_Challange 192
#define _NN_Battle_In_Progress 193
#define _NN_Battle_Started 194
#define _SS_S_Killed_By_S 195
#define _SS_S_WinBy_S 196
#define _SS_S_S_Draw 197
#define _NN_Next_Chance 200
#define _NN_Congratulations 201
#define _DN_Want_Stat_Init 203
#define _DN_D_Costs 204
#define _NN_Cant_with_armor 205
#define _DD_PKPointPlus 207
#define _SS_War_Declared 210
#define _SS_War_Started 211
#define _SS_War_Canceled 212
#define _SN_Your_are_at_war 218
#define _SN_War_to_S 219
#define _SN_War_from_S 220
#define _SS_War_declare_canceled 221
#define _SD_Zakum_Quest_by_S_N 222
#define _NN_Zakum_Quest_empty 223
#define _NN_Party_Leader_Only 229
#define _NN_NewbieQuest_Already1 230
#define _NN_NewbieQuest_Cheerup1 231
#define _NN_NewbieQuest_Complete1 232
#define _NN_NewbieQuest_Reward1 233
#define _NN_BR_Start1 246
#define _NN_BR_Start2 247
#define _NN_BR_Start3 248
#define _NN_BR_Rewarded 249
#define _NN_BR_Ready1 250
#define _NN_BR_Ready2 251
#define _NN_BR_Ready3 252
#define _NN_INCUBATED 253
#define _NN_Mount_Not_Match 256
#define _NN_Cure_animals 257
#define _DS_S_cure_price_D 258
#define _NN_Cured 259
#define _NN_Cure_faild 260
#define _NN_Incu_Wait_More 261
#define _NN_Incu_Proceed 262
#define _NN_Mount_died 264
#define _NN_3rd_village_limit 265
#define _NN_Treasure_Map 267
#define _NN_CombineFailed 269
#define _NN_Cant_get_more_than_2G 273
#define _DN_Castle_will_be_open 275
#define _DN_Castle_opened 276
#define _DN_Castle_will_be_closed 277
#define _DN_Castle_closed 278
#define _SN_S_is_charging_castle 280
#define _SN_S_charge_castle 281
#define _NN_Only_same_kingdom 282
#define _SN_Ally_to_S 283
#define _SN_Ally_from_S 284
#define _SS_Ally_Canceled 286
#define _SS_Ally_Declared 287
#define _NN_Cant_Declare_Ally 289
#define _SSNN_GuildWarResult 290
#define  _NN_Need_5_materials 291
#define _NN_snowimp_create_success 292
#define _NN_snowimp_need_2MGold 293
#define _NN_NotEnoughGold_Teleport 297 
#define _NN_NotEnoughGold_BuyShop 298
#define _NN_SoFar_BuyShop 299
#define _NN_AlwaysBuy_BuyShop 300
#define _NN_MaxBag_Actived 301
#define _NN_CantReset_ChaosPoint 302
#define _NN_CantRefine 303
#define _NN_CantRefine_War 304
#define _NN_Sephirot_EightStones 305
#define _NN_Sephirot_Need30MGold 306
#define _NN_Sephirot_Compose 307
#define _NN_Sephirot_AreUSure 308
#define _NN_Need_CelestialSub 309
#define _NN_Max36_Enter 310
#define _NN_CantRefine_ItemCele 311
#define _NN_Only_MortalArch 312
#define _NN_Level_NotAllowed 313
#define _NN_BringMe_ItemQuest 314
#define _NN_Player_QuestEnter 315
#define _NN_Already_A_Learner 316
#define _NN_BringMe_ToLearner 317
#define _NN_Welcome_Learner 318
#define _NN_OnlyMortal 319
#define _NN_Initialized_Quest 320
#define _NN_BringMe_Molar 321
#define _NN_RefineSuccess_Molar 322
#define _NN_BringMe_Selado 323
#define _NN_HallEnter 324
#define _NN_OnlySell_Citizen 325
#define _NN_Water_RoomOcuped 326
#define _NN_Guild_Need100mGold 327
#define _NN_Guild_YouHaveAGuild 328
#define _NN_Guild_Limit 329
#define _NN_Guild_NeedKingdom 330
#define _NN_Guild_GuildName 331
#define _NN_Citizen 332
#define _NN_Guild_SuccessCreate 333
#define _NN_Guild_CantRecruit_Day 334
#define _NN_Guild_OnlyMasterOrSub 335
#define _NN_Guild_CantRecruit_Kingdom 336
#define _NN_Guild_CantRecruit_Citizen 337
#define _NN_Guild_CantRecruit_Gold 338
#define _NN_Guild_CantRecruit_Guild 339
#define _NN_Guild_Recruit_GuildEnter 340
#define _NN_Guild_Recruit 341
#define _NN_Guild_CantKick_Guild 342
#define _NN_Guild_Kicked 343
#define _NN_Guild_YouKicked 344
#define _NN_Guild_SubCreated 345
#define _NN_Guild_Sub_Called 346
#define _NN_Level_Blocked 347
#define _NN_IncorrectComp 348
#define _NN_Success_Comp 349
#define _NN_Need_20mGold 350
#define _NN_Need_XX_Fame 351
#define _NN_NoSpace_Item 352
#define _NN_Whisper_MP 353
#define _NN_Message_SND 354
#define _NN_CPPoint 355
#define _NN_NT_Amount 356
#define _NN_NT_Zero 357
#define _NN_Guild_MaxSub 358
#define _NN_NoSpace_AllGroup 359
#define _NN_Only_Arzam 360
#define _NN_CantEnter 361
#define _NN_AccountBlocked_3Hrs 362
#define _NN_AccountBlocked_Analysis 363
#define _NN_GiveMe_Item 364
#define _NN_Received_Mount_Perzen 365
#define _NN_Welcome_Nipp 366
#define _NN_CantTele_Nip 367
#define _NN_HasColor 368
#define _NN_NoColor 369
#define _NN_Item_NotMatch 370
#define _NN_YouReCitizen 371
#define _NN_NotCitizen 372
#define _NN_TeleportDisable 373
#define _NN_AreUSure_Reset 374
#define _NN_God_Continue_Blessing 375
#define _NN_Sorry 377
#define _NN_Items_Same_Class 378
#define _NN_Items_JustMortal 379
#define _NN_Items_Anct 380
#define _NN_Items_Arch 381
#define _NN_Items_Smaller9 382
#define _NN_Items_Plus11 383
#define _NN_Items_NotAnct 384
#define _NN_Only_Armia 385
#define _NN_Only_Erion 386
#define _NN_Only_A_8th_Per_Char 387
#define _NN_Need_All_Skill_Lineage 388
#define _NN_Need_X_Gold_To_Buy_Skill 389
#define _NN_Minimum_AlqOdin_Ref_Is_10 390
#define _NN_Cant_Refine_With_Me 391
#define _NN_Odin_CombineSucceed 392
#define _NN_Cant_Delete_This_Item 393
#define _NN_Only_CastleOwners 394
#define _NN_Guild_CitizenBonus_Gold 395
#define _NN_Guild_CitizenBonus_Thanks 396
#define _NN_Guild_CitizenBonus_MaxBonus 397
#define _NN_Kefra_GuildKill 398
#define _NN_Kefra_PlayerKill 399
#define _NN_Kefra_Reborn 400
#pragma endregion

#pragma region ESTRUTURAS, ARRAYS

typedef struct
{
	// Clients
	// [SALA][GRUPO][VALOR] = Index
	INT16 Clients[MAX_PARTYPISTA][13];
	// Timers da Pista
	BOOL Status;
	INT16 Timer;
	// Centro, ou seja, onde são teleportados
	st_Position CenterPos;
	// Posição mínima da sala
	st_Position MinPos;
	// Posição máxima da sala
	st_Position MaxPos;

	struct
	{
		bool Done;
		bool Born;
		int BossID;
		int Points[MAX_PARTYPISTA];
		int Room[MAX_PARTYPISTA];
		bool RoomSorted[47];
	} inSec;
} stPista;

const unsigned int waterMaxMin[3][9][4] = {
	{
		{1040, 3545, 1055, 3560},
		{1040, 3510, 1055, 3525},
		{1040, 3475, 1055, 3490},
		{1080, 3475, 1095, 3490},
		{1115, 3475, 1130, 3490},
		{1115, 3510, 1130, 3525},
		{1115, 3545, 1130, 3560},
		{1075, 3545, 1096, 3560},
		{1075, 3505, 1095, 3530}
	},
	{
		{1170, 3675, 1185, 3690},
		{1170, 3635, 1185, 3655},
		{1170, 3600, 1185, 3620},
		{1205, 3600, 1220, 3620},
		{1240, 3600, 1255, 3620},
		{1240, 3640, 1255, 3655},
		{1240, 3675, 1255, 3690},
		{1205, 3675, 1220, 3690},
		{1205, 3630, 1225, 3655}
	},
	{
		{1295, 3545, 1315, 3565}, // OK
		{1295, 3510, 1315, 3525}, // OK
		{1300, 3470, 1315, 3490}, // OK
		{1335, 3475, 1350, 3490}, // OK
		{1370, 3475, 1385, 3490}, // OK
		{1370, 3510, 1385, 3525}, // OK
		{1365, 3545, 1385, 3565}, // OK
		{1330, 3545, 1350, 3565}, // OK
		{1330, 3505, 1355, 3530}  // OK
	}
};

const int waterPlace[3][9][2] = {
	{
		{1050, 3555},
		{1050, 3518},
		{1050, 3482},
		{1086, 3482}, //
		{1122, 3482}, //
		{1122, 3518}, //
		{1122, 3555}, //
		{1086, 3555}, //
		{1086, 3518}
	},
	{
		{1178, 3682}, 
		{1178, 3647},
		{1178, 3610},
		{1214, 3610},
		{1250, 3610}, //
		{1250, 3647}, //
		{1250, 3683}, //
		{1215, 3683},
		{1215, 3647}
	},
	{
		{1306, 3554}, // OK
		{1306, 3518}, // OK
		{1306, 3482}, // OK
		{1342, 3482}, // OK
		{1378, 3482}, // OK
		{1378, 3518}, // OK
		{1377, 3554}, // OK
		{1342, 3554}, // OK
		{1342, 3517}  // OK
	}
};

static int dias_mes[13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
static const int g_pQuestLevel[5][2] = { 
	{ 39, 114 },
	{ 115, 189 },
	{ 190, 264 },
	{ 265, 319 },
	{ 320, 398 }
};

static const INT32 g_pQuestTele[5][2] = {
	{2397, 2105},
	{2234, 1714},
	{464 , 3902},
	{668, 3755},
	{1326, 4043}
};

static const unsigned int g_pPesaArea[3][4] =
{
	{},
	{1024,257,1151,384},
	{1153, 132, 1279, 254}
};
static const int g_pPesaGenerate[3][8][4] = 
{ 
	{
		{291, 296, 301},
		{292, 297, 302},
		{293, 298, 303},
		{294, 299, 305},
		{295, 300},
		{},
		{},
		{}
	},
	{
		{266,274,275},
		{267,282,283},
		{268,284,280},
		{269,285,279},
		{270,281},
		{271,275,276},
		{272,286,287},
		{273,278}
	},
	{
		{246, 254, 265},
		{247, 255},
		{248, 256},
		{249, 257},
		{250, 258},
		{251, 259, 264},
		{252, 260, 263},
		{253, 261, 262}
	}
};

static const unsigned int g_pWaterMCoords[3][10][2] =
{
	{
		{1050, 3555},
		{1050, 3518},
		{1050, 3482},
		{1086, 3482}, //
		{1122, 3482}, //
		{1122, 3518}, //
		{1122, 3555}, //
		{1086, 3555}, //
		{0, 0},
		{1086, 3518}
	},
	{	
		{1178, 3682},
		{1178, 3647},
		{1178, 3610},
		{1214, 3610},
		{1250, 3610},
		{1250, 3647},
		{1250, 3683},
		{1215, 3683},
		{0, 0},
		{1214, 3644}
	},
	{
		{1306, 3554}, // OK
		{1306, 3518}, // OK
		{1306, 3482}, // OK
		{1342, 3482}, // OK
		{1378, 3482}, // OK
		{1378, 3518}, // OK
		{1377, 3554}, // OK
		{1342, 3554}, // OK
		{0, 0},
		{1342, 3517}  // OK
	}
};

static const int CoordsPesaN[3][2] =
{
	{ 1310, 313 },
	{ 1303, 332 },
	{ 1313, 345 }
};

static const int CoordsPesaM[6][2] =
{
	{1116, 328},
	{1089, 333},
	{1064, 333},
	{1066, 307},
	{1077, 323},
	{1088, 290}
};

static const char *szCitys[5] = {"Armia", "Arzan", "Erion", "Nippleheim", "Noatun"};

#pragma endregion

#pragma region EXTERN VARS
// Store messages of game
extern char g_pLanguageString[MAX_STRING][MAX_MESSAGE];
extern WORD g_pMobGrid[4096][4096];
extern int BaseSIDCHM[4][6];
extern char g_pHeightGrid[4096][4096];
extern MapAttribute g_pAttributeMap[1024][1024];
extern WORD g_pItemGrid[4096][4096];
extern sItemData ItemList[MAX_ITEMLIST];
extern sSpellData SkillData[256];
extern char EffectName[256][32];
extern stTeleport mTeleport[MAX_TELEPORT];
extern stInitItem pInitItem[4096];
extern int Taxes[64];
extern st_MountData mMont[30];
extern BASE_InitItem g_pInitItem[4096];
extern sGuildZone g_pCityZone[5];
extern int ChargedGuildList[10][5];
extern DWORD g_pHitRate[1024];
extern stGuild g_pGuild[MAX_GUILD];
extern char g_pGuildNotice[MAX_GUILD][128];
extern stPista pPista[MAX_ROOM];
extern INT32 g_pGuildAlly[MAX_GUILD];
extern INT32 g_pGuildWar[MAX_GUILD];
extern INT32 g_pWarTower[MAX_CHANNEL];
extern stNPCQuest questNPC[MAX_NPCQUEST];
extern stNPCEvent npcEvent[MAX_NPCEVENTO];
extern stPositionCP g_pPositionCP[MAX_MESSAGE];
extern stDonateStore g_pStore[MAX_STORE][MAX_DONATEITEM];
extern INT16 g_pBlockedItem[MAX_BLOCKITEM];
extern stPacItem g_pPacItem[MAX_PACITEM];

extern std::vector<LojaDonate> ControlDonateLoja;

#pragma endregion

#pragma region FUNCTIONS
// Functions

// Responsável por um número aleatório
int Rand();

// Leitura do arquivo de configuração
bool SaveGuildZone();
bool LoadGuildZone();

bool GetNewGuild(PacketHeader *Header);
bool GetGuildInfo(PacketHeader *Header);
bool AddSubLider(PacketHeader *Header);

bool LoadConfig(); 
bool LoadQuiz();
bool LoadDataServer();
bool ReadLanguageFile();
void ReadStore();
bool ReadGameConfigv2();
bool WriteGameConfigv2();

void ApplyAttribute(char *pHeight, int size);
bool ReadHeightMap();
bool ReadAttributeMap();
bool ReadItemList();
bool ReadSkillData();
bool ReadItemEffect();
bool ReadTeleport();
bool ReadGameConfig();
bool ReadNPCBase();
bool ReadInitItem();
bool ReadGuild();
bool LoadGuild();
void GuildZoneReport();
void ClearCrown(int conn);

void BASE_InitializeHitRate();

// Procura um slot de usuário nulo
int GetEmptyUser();
CUser *GetUserBySocket(DWORD socket);
// Leitura de arquivos
//Envia pacotes ao redor
void GridMulticast(int Index, unsigned int posX, unsigned int posY, BYTE *buf);
void GridMulticast_2(short posX, short posY, BYTE *sendPak, int Index);

// Teleporta o usuário
void Teleportar(int clientId, unsigned int posX, unsigned int posY);

// Checa se é possível equipar
bool CanEquip(st_Item *pItem, st_Mob *mob, int pSlot, int pClass, p376 *p, int classMaster);
bool CanCarry(st_Item* Dest, st_Item* Inven, int DestX, int DestY, int* error);
bool CanCargo(st_Item *destItem, st_Item *Inventory, int pDestX, int pDestY);

int GetMobAbility(st_Mob *usr, int eff);
int GetMobAbility(stCharInfo *usr, int eff);
int GetMaxAbility(st_Mob *usr, int eff);
// 
short GetItemAbility(st_Item *itemPtr, int eff);
short GetItemAbilityNoSanc(st_Item *itemPtr, int eff);

//
void CharLogOut(int clientId);

// Checa se o usuário ainda continua conectado
void CheckIdle(int clientId);

void SetBattle(int arg1, int arg2);

// Poe um buff no usuário
int SetAffect(int clientId, int skillId, int delay, int level);
int SetBuff(int clientId, int buffId, int master, int value, int time);
int SetBuff(int clientId, int buffId, int master, int value, int time, bool overrideBuffTime);
void SetAffect(int clientId, int skillId, int time);
int SetTick(int clientId, int skillId, int delay, int level);


// Teleporta uma área para um local específico
void ClearAreaTeleport(unsigned int x1, unsigned int y1, unsigned int x2, unsigned int y2, unsigned int DestX, unsigned int DestY, const char* areaName);
void ClearAreaGuild(unsigned int minPosX, unsigned int minPosY, unsigned int maxPosX, unsigned int maxPosY, int guildId);
void ClearAreaLevel(unsigned int minPosX, unsigned int minPosY, unsigned int maxPosX, unsigned int maxPosY, unsigned int min_level, unsigned int max_level);
void ClearGuildPKZone();

// Cria um item no chão
int CreateItem(int posX, int posY, st_Item *item, int unknow, int arg4, int status = 1);

//
void SetCurKill(int Index, int cFrag);
void SetTotKill(int Index, int tFrag);
void SetGuilty(int Cid, int arg_2);
void SetPKPoint(int clientId,int points);
void SetItemBonus(st_Item *item, int level, int sanc, int bonus);
void SetItemBonus(st_Item *item);
bool SetItemSanc(st_Item *item, int arg2, int arg3);
void SetReqHp(int clientId);
void SetReqMp(int clientId);

void MobKilled(int arg1, int arg2, int arg3, int arg4);

//
int GenerateSummon(int User,int SummonId, st_Item *Item);

//
int ProcessAffect(int clientId);

//
int ApplyHp(int clientId);
int ApplyMp(int clientId);

void AmountMinus(st_Item *item);

// Crias nascerem
void MountProcess(int clientId, st_Item *item);

// Faz um usuário sair do grupo
void RemoveParty(INT32 clientId);

// Regeneração de HP/MP E o Guilty do usuário
void RegenMob(int User);

// Update nos portões para abrir/fechar
int UpdateItem(int arg1, int arg2, int* arg3);
int UpdateItem2(int arg1,int arg2,int arg3,int arg4,int arg5,int arg7,int *arg8);

// Volta o usuário para a cidade 
void DoRecall(int clientId);

void ProcessAdultMount(int clientId, int damage);
void LinkMountHp(int arg1);

float TimeRemaining(int dia, int mes, int ano);
float TimeRemaining(stDate date);

INT32 GetFirstSlot(int clientId, int itemId);

void BASE_GetFirstKey(const char * source, char * dest);

void RemoveTrade(int clientId);

//void GetDailyQuest(INT32 clientId);
void DoRanking(int arg1, int arg2, int arg3);

void ProcessRanking();
void ProcessDecayItem();
void SendDropList(int conn);
bool ReadStoreNew();
void SummonGuild(int arg1, int arg2, int arg3, int arg4, int arg5);
void SummonGuild(int arg1, int arg2, int arg3, int arg4);
std::vector<int> GetMobInArea(int minPosX, int minPosY, int maxPosX, int maxPosY);
void SetItemAmount(st_Item *item, int amount);

void Combine(int clientId, int searched, int earned);
int CombineJeffi(int clientId, int searched, int earned);

void ClearArea(unsigned int x1, unsigned int y1, unsigned int x2, unsigned int y2);
void ClearArea(unsigned int x1, unsigned int y1, unsigned int x2, unsigned int y2, const char*);

void DoRemoveHide(INT32 clientId);
void DoRemovePossuido(INT32 clientId);

void DoWater();
void DoNightmare();

int RandomItemEffect();

void Log(INT32 clientId, INT32 type, const char *msg, ...);
void LogPlayer(INT32 clientId, const char *msg, ...);

bool ReadMob(st_Mob *mob, const char *folder);
INT32 CreateMob(const char *mob, int posX, int posY, const char *folder);

INT32 GetGuild(st_Item *item);

void DoSummon(int arg1, unsigned int arg2, unsigned int arg3);

bool AddCrackError(int arg1, int point, int type);
BOOL CheckPacket(PacketHeader *Header);


void GiveRuna(int sala, int party);
void DoRune();

void DoAlly(INT32 guild, INT32 ally);

INT32 CombineTreasureMap(INT32 clientId);

INT32 PutItem(INT32 clientId, st_Item *item);
INT32 PutItemArea(st_Item *item, unsigned int x1, unsigned int y1, unsigned int x2, unsigned int y2);
void CloseUser(INT32 clientId);

void FinishCastleWar();

void SetCastleDoor(int mode);
void SetColoseumDoor(int mode);
void SetColoseumDoor2(int mode);
void SetArenaDoor(int mode);

void ClearChallanger();
void UpdateCityTowers();

void GuildZoneReport();
void DecideWinner();

void DecideChallenger();
void GuildProcess();

void GenerateColoseum(int i);

void DoWar(int arg1, int arg2);
INT32 Challange(INT32 clientId, INT32 mobId, INT32 value);

void SaveUser(INT32 clientId, INT32 arg2);

void SetGuildWin(INT32 guildId, INT32 win);
void SetGuildFame(INT32 guildId, INT32 fame);

void RemoveDefaultADD(st_Item *item, int index);
void RebornKefra();

bool LoadNPCEvento() ;

bool ReadRvRStore();
bool ReadArenaConfig();
bool ReadMissions();
void WriteRvRStore();
INT32 ReadNPCQuest();
INT32 ReadMessages();
INT32 ReadScheduled();
INT32 ReadNoCP();
INT32 ReadPacItens();
INT32 ReadNPCDonate();
INT32 ReadBlockedItem();
INT32 ReadBossQuest();
BOOL ReadMerchantStore();
BOOL ReadArenaStore();
bool LoadQuestDiaria();
bool LoadChristmasMission();
BOOL ReadLevelItem() ;
BOOL ReadDailyReward();
bool ReadBoss();

void GroupTransfer(INT32 clientId, INT32 mobId);

TOD_SellItemResult SellItem(int clientId, st_Item* item);

void LogGold(INT32 clientId);

void SendDailyRewardInfo(INT32 clientId);
void CollectDailyReward(INT32 clientId);

void LevelItem(INT32 clientId) ;

void FormatIntToTime(int time, char *string);

//void InitializeTowerWar(stTowerWar* war);
//void FinalizeTowerWar(stTowerWar* war);

void InitializeTowerWar();
void FinalizeTowerWar  ();

void UpdateTowerWar(stTowerWar* war);
void ResultTowerWar(INT32 winner);
void ClearTowerArea(BYTE Citizenship);

void UpdateWarDeclaration(BYTE Info);

void RequestUpdateFriendList(INT32 clientId);


void NumberFormat(char*result);

void DropEventOnHit(INT32 clientId, INT32 targetIdx) ;

void PremiumTime();
void AnswerClient_aHack( INT32 counter );

INT32 RemoveAmount(INT32 clientId, INT32 itemId, INT32 amount) ;

void DoColosseum();
void FinishColosseum();

void NPCEvento(int clientId, int npcId);
bool AgroupItem(int clientId, st_Item* srcItem, st_Item* dstItem);

int AbsorveDamageByPet(CMob* player, int damage);
#pragma endregion

template<typename Iter, typename RandomGenerator>
Iter select_randomly(Iter start, Iter end, RandomGenerator& g) {
	std::uniform_int_distribution<> dis(0, std::distance(start, end) - 1);
	std::advance(start, dis(g));
	return start;
}

template<typename Iter>
Iter select_randomly(Iter start, Iter end) {
	static std::random_device rd;
	static std::mt19937 gen(rd());
	return select_randomly(start, end, gen);
}

void EnergizeEmptyRune(int clientId, const p376 *packet);

void LogRune(int sala, int party, std::string message);
void MessageRune(int sala, int party, std::string message);

bool ReadOverStore();

#endif